#-----------------------------------------------------------------------------
# Profile for PlayStation 3.
# DO NOT MODIFY THIS (OR AT YOUR OWN RISK)
#
# This configuration profile serves two purposes:
#
#   - Allow UMS to recognize a specific connecting renderer
#   - Define the possibilities of that renderer
#

#-----------------------------------------------------------------------------
# RENDERER INFORMATION
#

# RendererName: Determines the name that is displayed in the UMS user
# interface when this renderer connects.
RendererName = PlayStation 3

# RendererIcon: Determines the icon that is displayed in the UMS user
# interface when this renderer connects. By default, these icons are
# bundled with UMS in ums.jar, but they can easily be customised:
# http://www.ps3mediaserver.org/forum/viewtopic.php?f=6&t=3507&p=49536#p49536
RendererIcon = ps3.png

#-----------------------------------------------------------------------------
# RENDERER RECOGNITION
#
# When a renderer connects, it sends a "User-Agent" header. UMS tries to
# match that header with all configuration profiles. If none of the profiles
# match, the message "Unknown User-Agent:" will be displayed in the logs and
# UMS will switch to a default profile.
#
# Because matching involves all renderer configuration profiles, it is
# important to match as long a string as possible. This increases the chances
# that a match is unique. Version numbers are best avoided.
#
# To learn the exact headers of any renderer, set the logging level in
# "logback.xml" to "TRACE" and look for messages like "Received on socket:".
#
# ============================================================================
# PlayStation 3 uses the following strings:
#
# User-Agent: PLAYSTATION 3
# ---
# User-Agent: UPnP/1.0
# X-AV-Client-Info: av=5.0; cn="Sony Computer Entertainment Inc."; mn="PLAYSTATION 3"; mv="1.0";
# ---
# User-Agent: UPnP/1.0 DLNADOC/1.50
# X-AV-Client-Info: av=5.0; cn="Sony Computer Entertainment Inc."; mn="PLAYSTATION 3"; mv="1.0";
# ============================================================================
#

# UserAgentSearch: Optional regular expression to detect a connected renderer.
# The expression is case insensitive. When the expression is empty User-Agent
# headers are not used, this is the default. Note that one renderer can use
# several different User-Agent headers.
#
# Note that UMS will attempt to match UserAgentSearch to the header block
# as a whole, so if the same identifier sometimes appears in other headers
# UserAgentSearch will return a positive match in those cases as well. For
# example the PS3 uses the phrase 'PLAYSTATION 3' sometimes in User-Agent
# and sometimes in X-AV-Client-Info (or both) and just defining
# 'UserAgentSearch=PLAYSTATION 3' will cover all these cases.
#
# Examples:
#
# UserAgentSearch = Platinum/.*DLNADOC/|yxplayer2|MPlayer |NSPlayer/
# UserAgentSearch = Windows-Media-Player-DMS|Microsoft-Windows
#
# Ignoring the "UPnP/1.0" and "UPnP/1.0 DLNADOC/1.50" headers since they are
# too general, plus they can be detected from the additional header.
UserAgentSearch = PLAYSTATION 3

# UserAgentAdditionalHeader: Optional additional HTTP header for better
# detection. When defined, UMS also considers this header when trying to find
# a match.
#
# Note that UMS will combine UserAgentSearch and UserAgentAdditionalHeaderSearch
# into a single expression before attempting to match it to the header block
# as a whole, so this setting should only be defined if the additional header
# is always present and required for making a unique match, i.e. only when the
# UserAgentSearch setting is omitted or insufficient by itself.
UserAgentAdditionalHeader =

# UserAgentAdditionalHeaderSearch: Regular expression to search for in the
# additional HTTP header.
UserAgentAdditionalHeaderSearch =

SeekByTime = exclusive
CreateDLNATreeFaster = true
WrapEncodedAudioIntoPCM = true
MaxVideoWidth = 1920
MaxVideoHeight = 1080
H264Level41Limited = true
TranscodeFastStart = true
TranscodedVideoFileSize = -1
MimeTypesChanges = video/avi=video/x-divx
AutoExifRotate = true
MediaInfo = true

# Our PS3-specific notes:
# DTS is not supported.
# H.264 within AVI containers is not supported, nor is GMC or QPEL.
# WMV is supported, but not with 5.1 audio.
# Apple Lossless Audio Codec (ALAC) is not supported.

# Supported video formats:
Supported = f:mpegps     v:mpeg1|mpeg2|mp4|h264   a:ac3|lpcm           m:video/mpeg
Supported = f:mpegts     v:mpeg1|mpeg2|mp4|h264   a:ac3|lpcm|mpa       m:video/mpeg
Supported = f:avi|divx   v:mp4|divx|mjpeg         a:mp3|lpcm|mpa|ac3   m:video/x-divx     gmc:0
Supported = f:mp4        v:mp4|h264               a:ac3                m:video/mp4
Supported = f:mp4        v:mp4|h264               a:aac                m:video/mp4                n:2
Supported = f:wmv        v:wmv|vc1                a:wma                m:video/x-ms-wmv           n:2

# Supported audio formats:
Supported = f:wav     a:dts          n:6   s:48000   m:audio/wav
Supported = f:wav     a:lpcm         n:6   s:48000   m:audio/l16
Supported = f:wav                    n:2   s:48000   m:audio/wav
Supported = f:mp3                    n:2             m:audio/mpeg
Supported = f:aac     a:(?!alac).+   n:2             m:audio/x-m4a
Supported = f:wma                    n:2             m:audio/x-ms-wma
Supported = f:atrac                  n:2             m:audio/x-oma
Supported = f:lpcm    a:lpcm         n:6   s:48000   m:audio/l16

# Supported image formats:
Supported = f:jpg    m:image/jpeg
Supported = f:png    m:image/png
Supported = f:gif    m:image/gif
Supported = f:tiff   m:image/tiff

# SupportedExternalSubtitlesFormats: Comma-separated list of text-based subtitle formats of external subtitles
# supported by the renderer for streaming together with streaming (not transcoded) video.
#
#	Supported formats:			File extension:
#		SUBRIP						.srt
#		ASS							.ass or.ssa
#		TEXT						.txt
#		MICRODVD					.sub
#		WEBTT						.wtt
#		SAMI						.smi	
#
# Example: SupportedExternalSubtitlesFormats = SUBRIP,ASS,MICRODVD
# Default: ""
SupportedExternalSubtitlesFormats =

# UseClosedCaption: Some renderers use the "sec:CaptionInfoEx" parameter to
# stream external subtitles.
# Supported subtitles are defined in SupportedSubtitlesFormat.
# Default: false
UseClosedCaption = false

# SupportedInternalSubtitlesFormats:  Comma-separated list of embedded subtitle formats
# supported by the renderer.
#
#	Supported formats: SUBRIP, ASS, TEXT, MICRODVD,	WEBTT, SAMI, VOBSUB, BMP, DIVX, PGS, USF, TX3G
	
#
# Example: SupportedInternalSubtitlesFormats = SUBRIP,ASS,PSG,DIVX
# Default: ""
SupportedInternalSubtitlesFormats =
